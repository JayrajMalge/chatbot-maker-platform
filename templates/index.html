<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot Maker Platform</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <header class="header">
        <div class="container">
            <h1>Chatbot Maker Platform</h1>
            <p>Create intelligent chatbots with ease</p>
        </div>
    </header>

    <div class="container">
        <div class="tabs">
            <button class="tab-button active" data-tab="build">Build Chatbot</button>
            <button class="tab-button" data-tab="documentation">Documentation</button>
            <button class="tab-button" data-tab="my-chatbots">My Chatbots</button>
        </div>

        <div id="build" class="tab-content active">
                        <!-- Upload Button -->
            <button id="uploadJsonBtn" class="upload-btn">
                <i class="upload-icon">üìÅ</i>
                Upload JSON File
            </button>

            <!-- Modal Overlay -->
            <div id="jsonUploadModal" class="modal-overlay">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Upload JSON Configuration</h3>
                        <button id="closeModalBtn" class="close-btn">&times;</button>
                    </div>
                    
                    <div class="modal-body">
                        <!-- Chatbot Name Input -->
                        <div class="input-group">
                            <label for="chatbotNameInput" class="input-label">Chatbot Name</label>
                            <input type="text" id="chatbotNameInput" class="text-input" placeholder="Enter your chatbot name">
                            <div class="input-hint">This will override the name in JSON file</div>
                        </div>
                        
                        <div class="file-input-section">
                            <input type="file" id="jsonFileInput" accept=".json" class="file-input">
                            <label for="jsonFileInput" class="file-input-label">
                                <i class="file-icon">üìÑ</i>
                                Choose JSON File
                            </label>
                        </div>
                        
                        <div class="json-preview-section">
                            <h4>JSON Preview</h4>
                            <pre id="jsonPreview" class="json-preview">No file selected</pre>
                        </div>
                        
                        <div class="upload-actions">
                            <button id="submitJsonBtn" class="submit-btn" disabled>
                                Create Chatbot from JSON
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Status Message -->
            <div id="statusMessage" class="status-message"></div>
            <form id="chatbot-form">
                <div class="form-group">
                    <label for="chatbot-name">Chatbot Name *</label>
                    <input type="text" id="chatbot-name" name="chatbot-name" required placeholder="Enter a name for your chatbot">
                </div>

                <div id="intents-container">
                    <!-- Intents will be added here dynamically -->
                </div>

                <button type="button" id="add-intent-btn" class="btn btn-secondary">Add Intent</button>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Create Chatbot</button>
                    <button type="button" id="reset-form" class="btn btn-danger">Reset Form</button>
                </div>
            </form>
        </div>

        <div id="documentation" class="tab-content">
            <h2>Documentation</h2>
            <div class="documentation-content">
                <h3>Getting Started</h3>
                <p>Welcome to the Chatbot Maker Platform! Follow these steps to create your first chatbot:</p>
                <ol>
                    <li>Enter a name for your chatbot</li>
                    <li>Add intents to define what your chatbot can understand and respond to</li>
                    <li>For each intent, add questions that users might ask</li>
                    <li>For each intent, add answers that your chatbot will respond with</li>
                    <li>Click submit to save your chatbot</li>
                </ol>

                <h3>What are Intents?</h3>
                <p>Intents represent the purpose or goal behind a user's message. For example, if a user asks "What's the weather like today?", the intent might be "weather_inquiry".</p>

                <h3>Best Practices</h3>
                <ul>
                    <li>Use clear, descriptive names for your intents</li>
                    <li>Add multiple variations of questions for each intent</li>
                    <li>Keep answers concise and helpful</li>
                    <li>Test your chatbot thoroughly before deploying</li>
                </ul>

                <h3>How to Use .pkl file</h3>
                <div class="api-endpoints">
                    <div class="endpoint-card">
                        <div class="endpoint-header">
                            <h3 class="endpoint-title">Python Usage Example</h3>
                            <span class="endpoint-badge">Code Snippet</span>
                        </div>
                        
                        <div class="endpoint-content">
                            <div class="code-section">
                                <div class="code-header">
                                    <span class="code-language">Python</span>
                                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                                </div>
                                <pre class="code-block"><code class="language-python">
                import dill
                # Load the trained chatbot model
                object = dill.load(open("your-model-name.pkl", 'rb'))
                
                # Make a prediction
                response = object.predict("tell me about your self")
                print(response)</code></pre>
                            </div>
                            
                            <div class="output-section">
                                <div class="output-header">
                                    <span class="output-label">Output</span>
                                </div>
                                <div class="output-table">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th>question</th>
                                                <th>answer</th>
                                                <th>intent</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>hello</td>
                                                <td>hi what i can do</td>
                                                <td>1</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            
                            <div class="explanation-section">
                                <h4>How it works:</h4>
                                <ul class="explanation-list">
                                    <li>Load the pickle file using <code>dill.load()</code></li>
                                    <li>Call <code>predict()</code> method with user input</li>
                                    <li>Returns a DataFrame with question, answer, and intent</li>
                                    <li>Intent is encoded as numerical value</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="my-chatbots" class="tab-content">
            <h2>My Chatbots</h2>
            <div class="chatbots-list-container">
                <button id="refresh-chatbots" class="btn btn-secondary">Refresh List</button>
                <div id="chatbots-list">
                    <!-- Chatbots will be loaded here -->
                </div>
            </div>
        </div>
    </div>
    <footer>
        <div class="foot">
            <h4>All Right Reservied ChatBOT Maker @2025</h4>
             <p>Developed By Jayrajmalge</p>
        </div>
    </footer>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>